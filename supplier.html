<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­å»ºå•†å·¥ä½œå° - å¹¿äº¤ä¼šAIå±•ä½è®¾è®¡å¹³å°</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
        }

        /* å¯¼èˆªæ  */
        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 15px 30px;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .navbar-brand {
            font-size: 24px;
            font-weight: bold;
        }

        .navbar-menu {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .navbar-menu a {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 6px;
            transition: background 0.3s;
        }

        .navbar-menu a:hover {
            background: rgba(255,255,255,0.2);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px;
        }

        /* ç»Ÿè®¡å¡ç‰‡ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .stat-icon {
            font-size: 48px;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
        }

        .stat-icon.pending {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .stat-icon.accepted {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .stat-icon.completed {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .stat-icon.rating {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }

        .stat-info {
            flex: 1;
        }

        .stat-label {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #2c3e50;
        }

        /* Tabåˆ‡æ¢ */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }

        .tab-btn {
            background: none;
            border: none;
            padding: 10px 24px;
            font-size: 16px;
            font-weight: 600;
            color: #7f8c8d;
            cursor: pointer;
            border-radius: 8px 8px 0 0;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: white;
            color: #667eea;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
        }

        .tab-btn:hover {
            color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* è®¢å•åˆ—è¡¨ */
        .order-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .order-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }

        .order-card:hover {
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f8f9fa;
        }

        .order-id {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
        }

        .order-status {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-accepted {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-inprogress {
            background: #cfe2ff;
            color: #084298;
        }

        .status-completed {
            background: #d1e7dd;
            color: #0f5132;
        }

        .order-body {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 25px;
        }

        .order-preview {
            width: 200px;
            height: 140px;
            border-radius: 8px;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .order-preview:hover {
            transform: scale(1.05);
        }

        .order-details {
            flex: 1;
        }

        .detail-row {
            display: flex;
            padding: 10px 0;
            border-bottom: 1px solid #f8f9fa;
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            width: 120px;
            color: #7f8c8d;
            font-weight: 500;
        }

        .detail-value {
            flex: 1;
            color: #2c3e50;
            font-weight: 600;
        }

        .order-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 24px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-secondary {
            background: #e9ecef;
            color: #6c757d;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* æ–½å·¥è¿›åº¦è¡¨å• */
        .progress-form {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-top: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 15px;
            transition: border-color 0.3s;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* å›¾ç‰‡ä¸Šä¼  */
        .image-upload-area {
            border: 2px dashed #e9ecef;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .image-upload-area:hover {
            border-color: #667eea;
            background: #f8f9fa;
        }

        .image-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .image-preview-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: 8px;
            overflow: hidden;
        }

        .image-preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-remove-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(0,0,0,0.6);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 30px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .modal-title {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #7f8c8d;
        }

        /* èµ„è´¨è®¤è¯ */
        .certification-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }

        .cert-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }

        .cert-verified {
            background: #d1e7dd;
            color: #0f5132;
        }

        .cert-pending {
            background: #fff3cd;
            color: #856404;
        }

        .cert-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .cert-item {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .cert-icon {
            font-size: 32px;
        }

        .cert-info h4 {
            font-size: 16px;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .cert-info p {
            font-size: 13px;
            color: #7f8c8d;
        }

        @media (max-width: 768px) {
            .order-body {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .tabs {
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <div class="navbar">
        <div class="navbar-brand">
            <i class="bi bi-building"></i> æ­å»ºå•†å·¥ä½œå°
        </div>
        <div class="navbar-menu">
            <a href="AIGreenExhibtion.html">
                <i class="bi bi-house"></i> å‚å±•å•†ç«¯
            </a>
            <a href="admin.html">
                <i class="bi bi-gear"></i> åå°ç®¡ç†
            </a>
            <a href="architecture.html">
                <i class="bi bi-diagram-3"></i> æ¶æ„è¯´æ˜
            </a>
            <a href="#" id="profileBtn">
                <i class="bi bi-person-circle"></i> ä¸ªäººä¸­å¿ƒ
            </a>
        </div>
    </div>

    <div class="container">
        <!-- èµ„è´¨è®¤è¯çŠ¶æ€ -->
        <div class="certification-section">
            <h2 style="margin-bottom: 15px;">
                <i class="bi bi-shield-check"></i> èµ„è´¨è®¤è¯çŠ¶æ€
            </h2>
            <div class="cert-status cert-verified">
                <i class="bi bi-check-circle-fill"></i>
                å·²è®¤è¯ - ä¼˜è´¨æ­å»ºå•†
            </div>
            <div class="cert-list">
                <div class="cert-item">
                    <div class="cert-icon">ğŸ¢</div>
                    <div class="cert-info">
                        <h4>ä¼ä¸šè¥ä¸šæ‰§ç…§</h4>
                        <p>æœ‰æ•ˆæœŸè‡³ 2028-12-31</p>
                    </div>
                </div>
                <div class="cert-item">
                    <div class="cert-icon">ğŸ”§</div>
                    <div class="cert-info">
                        <h4>æ–½å·¥èµ„è´¨è¯ä¹¦</h4>
                        <p>äºŒçº§èµ„è´¨ | ç¼–å·: GJ2024001</p>
                    </div>
                </div>
                <div class="cert-item">
                    <div class="cert-icon">ğŸ›¡ï¸</div>
                    <div class="cert-info">
                        <h4>å®‰å…¨ç”Ÿäº§è®¸å¯è¯</h4>
                        <p>ç¼–å·: AQ20240156</p>
                    </div>
                </div>
                <div class="cert-item">
                    <div class="cert-icon">ğŸ’¼</div>
                    <div class="cert-info">
                        <h4>ä¿é™©è¯æ˜</h4>
                        <p>è´£ä»»é™© 500ä¸‡å…ƒ</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon pending">â°</div>
                <div class="stat-info">
                    <div class="stat-label">å¾…å¤„ç†è®¢å•</div>
                    <div class="stat-value" id="pendingCount">3</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon accepted">ğŸ”¨</div>
                <div class="stat-info">
                    <div class="stat-label">è¿›è¡Œä¸­</div>
                    <div class="stat-value" id="inprogressCount">5</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon completed">âœ…</div>
                <div class="stat-info">
                    <div class="stat-label">å·²å®Œæˆ</div>
                    <div class="stat-value" id="completedCount">28</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon rating">â­</div>
                <div class="stat-info">
                    <div class="stat-label">ç»¼åˆè¯„åˆ†</div>
                    <div class="stat-value">4.8</div>
                </div>
            </div>
        </div>

        <!-- Tabåˆ‡æ¢ -->
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('pending')">
                <i class="bi bi-clock"></i> å¾…å¤„ç† (3)
            </button>
            <button class="tab-btn" onclick="switchTab('inprogress')">
                <i class="bi bi-hammer"></i> è¿›è¡Œä¸­ (5)
            </button>
            <button class="tab-btn" onclick="switchTab('completed')">
                <i class="bi bi-check-circle"></i> å·²å®Œæˆ (28)
            </button>
        </div>

        <!-- å¾…å¤„ç†è®¢å• -->
        <div id="pendingTab" class="tab-content active">
            <div class="order-list" id="pendingOrders"></div>
        </div>

        <!-- è¿›è¡Œä¸­è®¢å• -->
        <div id="inprogressTab" class="tab-content">
            <div class="order-list" id="inprogressOrders"></div>
        </div>

        <!-- å·²å®Œæˆè®¢å• -->
        <div id="completedTab" class="tab-content">
            <div class="order-list" id="completedOrders"></div>
        </div>
    </div>

    <!-- è®¢å•è¯¦æƒ…Modal -->
    <div id="orderDetailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">è®¢å•è¯¦æƒ…</h3>
                <button class="modal-close" onclick="closeModal('orderDetailModal')">&times;</button>
            </div>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- ä¸Šä¼ è¿›åº¦Modal -->
    <div id="progressModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ä¸Šä¼ æ–½å·¥è¿›åº¦</h3>
                <button class="modal-close" onclick="closeModal('progressModal')">&times;</button>
            </div>
            <div class="progress-form">
                <div class="form-group">
                    <label class="form-label">æ–½å·¥é˜¶æ®µ</label>
                    <select class="form-select" id="progressStage">
                        <option value="åŸºç¡€æ­å»º">åŸºç¡€æ­å»º (0-30%)</option>
                        <option value="ä¸»ä½“ç»“æ„">ä¸»ä½“ç»“æ„ (30-60%)</option>
                        <option value="è£…é¥°è£…ä¿®">è£…é¥°è£…ä¿® (60-90%)</option>
                        <option value="æœ€ç»ˆéªŒæ”¶">æœ€ç»ˆéªŒæ”¶ (90-100%)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">å®Œæˆè¿›åº¦ (%)</label>
                    <input type="number" class="form-input" id="progressPercent" min="0" max="100" value="0">
                </div>
                <div class="form-group">
                    <label class="form-label">è¿›åº¦è¯´æ˜</label>
                    <textarea class="form-textarea" id="progressDesc" placeholder="è¯·æè¿°å½“å‰æ–½å·¥è¿›åº¦å’Œé‡åˆ°çš„é—®é¢˜..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">ç°åœºç…§ç‰‡</label>
                    <div class="image-upload-area" onclick="document.getElementById('photoInput').click()">
                        <i class="bi bi-cloud-upload" style="font-size: 48px; color: #667eea;"></i>
                        <p>ç‚¹å‡»ä¸Šä¼ æ–½å·¥ç°åœºç…§ç‰‡</p>
                        <p style="font-size: 12px; color: #7f8c8d;">æ”¯æŒ JPG, PNG æ ¼å¼ï¼Œæœ€å¤š 6 å¼ </p>
                    </div>
                    <input type="file" id="photoInput" accept="image/*" multiple style="display: none;" onchange="handlePhotoUpload(event)">
                    <div class="image-preview-grid" id="photoPreview"></div>
                </div>
                <div class="order-actions">
                    <button class="btn btn-primary" onclick="submitProgress()">
                        <i class="bi bi-upload"></i> æäº¤è¿›åº¦
                    </button>
                    <button class="btn btn-secondary" onclick="closeModal('progressModal')">
                        å–æ¶ˆ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿè®¢å•æ•°æ®
        const mockOrders = {
            pending: [
                {
                    id: 'GJ2026010501',
                    exhibitor: 'æ·±åœ³ç§‘æŠ€æœ‰é™å…¬å¸',
                    template: 'ç§‘æŠ€é£å±•ä½ - T023',
                    size: '27ã¡ (9m Ã— 3m)',
                    price: 'Â¥45,000',
                    deadline: '2026-03-15',
                    location: 'å¹¿å·Â·ç¶æ´²å±•é¦† AåŒº 3.2é¦† B34',
                    preview: 'ç¯ä¿å±•ä½é—­ç¯èµ„æ–™251217/PDFå¯¼å‡ºå›¾ç‰‡/page_023.png',
                    contact: 'å¼ ç»ç† | 138****8888',
                    requirements: 'éœ€è¦LEDå±å¹•ã€æ™ºèƒ½ç…§æ˜ç³»ç»Ÿã€äº§å“å±•ç¤ºæŸœ'
                },
                {
                    id: 'GJ2026010502',
                    exhibitor: 'ä¸Šæµ·è´¸æ˜“é›†å›¢',
                    template: 'é«˜ç«¯é£å±•ä½ - T035',
                    size: '36ã¡ (6m Ã— 6m)',
                    price: 'Â¥68,000',
                    deadline: '2026-03-20',
                    location: 'å¹¿å·Â·ç¶æ´²å±•é¦† BåŒº 4.1é¦† C15',
                    preview: 'ç¯ä¿å±•ä½é—­ç¯èµ„æ–™251217/PDFå¯¼å‡ºå›¾ç‰‡/page_035.png',
                    contact: 'ææ€» | 159****6666',
                    requirements: 'é«˜ç«¯å®šåˆ¶ã€æ´½è°ˆåŒºã€äº§å“é™ˆåˆ—ã€ç¯å…‰æ•ˆæœ'
                },
                {
                    id: 'GJ2026010503',
                    exhibitor: 'åŒ—äº¬ç¯ä¿ç§‘æŠ€',
                    template: 'è‡ªç„¶é£å±•ä½ - T008',
                    size: '18ã¡ (6m Ã— 3m)',
                    price: 'Â¥28,000',
                    deadline: '2026-03-18',
                    location: 'å¹¿å·Â·ç¶æ´²å±•é¦† CåŒº 5.2é¦† A20',
                    preview: 'ç¯ä¿å±•ä½é—­ç¯èµ„æ–™251217/PDFå¯¼å‡ºå›¾ç‰‡/page_008.png',
                    contact: 'ç‹å¥³å£« | 186****9999',
                    requirements: 'å¼ºè°ƒç¯ä¿ææ–™ã€ç»¿æ¤è£…é¥°ã€ä½ç¢³ç†å¿µå±•ç¤º'
                }
            ],
            inprogress: [
                {
                    id: 'GJ2026010301',
                    exhibitor: 'å¹¿ä¸œå®¶ç”µé›†å›¢',
                    template: 'ç°ä»£é£å±•ä½ - T012',
                    size: '18ã¡ (6m Ã— 3m)',
                    progress: 65,
                    stage: 'è£…é¥°è£…ä¿®',
                    preview: 'ç¯ä¿å±•ä½é—­ç¯èµ„æ–™251217/PDFå¯¼å‡ºå›¾ç‰‡/page_012.png'
                },
                {
                    id: 'GJ2026010302',
                    exhibitor: 'æµ™æ±Ÿçººç»‡æœ‰é™å…¬å¸',
                    template: 'ç§‘æŠ€é£å±•ä½ - T028',
                    size: '27ã¡ (9m Ã— 3m)',
                    progress: 45,
                    stage: 'ä¸»ä½“ç»“æ„',
                    preview: 'ç¯ä¿å±•ä½é—­ç¯èµ„æ–™251217/PDFå¯¼å‡ºå›¾ç‰‡/page_028.png'
                }
            ],
            completed: [
                {
                    id: 'GJ2025120201',
                    exhibitor: 'æ±Ÿè‹æœºæ¢°åˆ¶é€ ',
                    template: 'é«˜ç«¯é£å±•ä½ - T040',
                    size: '36ã¡ (6m Ã— 6m)',
                    rating: 5,
                    completedDate: '2025-12-28',
                    preview: 'ç¯ä¿å±•ä½é—­ç¯èµ„æ–™251217/PDFå¯¼å‡ºå›¾ç‰‡/page_040.png'
                }
            ]
        };

        let uploadedPhotos = [];

        // åˆå§‹åŒ–é¡µé¢
        function initPage() {
            renderOrders('pending');
            renderOrders('inprogress');
            renderOrders('completed');
        }

        // æ¸²æŸ“è®¢å•åˆ—è¡¨
        function renderOrders(type) {
            const container = document.getElementById(`${type}Orders`);
            const orders = mockOrders[type];
            
            if (!orders || orders.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #7f8c8d; padding: 40px;">æš‚æ— è®¢å•</p>';
                return;
            }

            container.innerHTML = orders.map(order => {
                if (type === 'pending') {
                    return `
                        <div class="order-card">
                            <div class="order-header">
                                <div class="order-id">è®¢å•ç¼–å·: ${order.id}</div>
                                <div class="order-status status-pending">ğŸ”” å¾…æ¥å•</div>
                            </div>
                            <div class="order-body">
                                <img src="${order.preview}" alt="å±•ä½é¢„è§ˆ" class="order-preview" onclick="showOrderDetail('${order.id}')">
                                <div class="order-details">
                                    <div class="detail-row">
                                        <div class="detail-label">å‚å±•å•†:</div>
                                        <div class="detail-value">${order.exhibitor}</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">å±•ä½æ–¹æ¡ˆ:</div>
                                        <div class="detail-value">${order.template}</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">å±•ä½é¢ç§¯:</div>
                                        <div class="detail-value">${order.size}</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">åˆåŒé‡‘é¢:</div>
                                        <div class="detail-value" style="color: #e74c3c; font-size: 20px;">${order.price}</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">å®Œå·¥æœŸé™:</div>
                                        <div class="detail-value">${order.deadline}</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">å±•ä½ä½ç½®:</div>
                                        <div class="detail-value">${order.location}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="order-actions">
                                <button class="btn btn-primary" onclick="acceptOrder('${order.id}')">
                                    <i class="bi bi-check-circle"></i> æ¥å—è®¢å•
                                </button>
                                <button class="btn btn-secondary" onclick="showOrderDetail('${order.id}')">
                                    <i class="bi bi-eye"></i> æŸ¥çœ‹è¯¦æƒ…
                                </button>
                                <button class="btn btn-danger" onclick="rejectOrder('${order.id}')">
                                    <i class="bi bi-x-circle"></i> æ‹’ç»è®¢å•
                                </button>
                            </div>
                        </div>
                    `;
                } else if (type === 'inprogress') {
                    return `
                        <div class="order-card">
                            <div class="order-header">
                                <div class="order-id">è®¢å•ç¼–å·: ${order.id}</div>
                                <div class="order-status status-inprogress">ğŸ”¨ æ–½å·¥ä¸­</div>
                            </div>
                            <div class="order-body">
                                <img src="${order.preview}" alt="å±•ä½é¢„è§ˆ" class="order-preview">
                                <div class="order-details">
                                    <div class="detail-row">
                                        <div class="detail-label">å‚å±•å•†:</div>
                                        <div class="detail-value">${order.exhibitor}</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">å±•ä½æ–¹æ¡ˆ:</div>
                                        <div class="detail-value">${order.template}</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">å½“å‰è¿›åº¦:</div>
                                        <div class="detail-value">
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <div style="flex: 1; background: #e9ecef; height: 12px; border-radius: 6px; overflow: hidden;">
                                                    <div style="width: ${order.progress}%; background: linear-gradient(90deg, #43e97b 0%, #38f9d7 100%); height: 100%; transition: width 0.3s;"></div>
                                                </div>
                                                <span style="font-weight: bold; color: #667eea;">${order.progress}%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">æ–½å·¥é˜¶æ®µ:</div>
                                        <div class="detail-value">${order.stage}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="order-actions">
                                <button class="btn btn-primary" onclick="showProgressModal('${order.id}')">
                                    <i class="bi bi-upload"></i> ä¸Šä¼ è¿›åº¦
                                </button>
                                <button class="btn btn-success" onclick="completeOrder('${order.id}')" ${order.progress < 100 ? 'disabled' : ''}>
                                    <i class="bi bi-check-circle"></i> æäº¤å®Œå·¥
                                </button>
                                <button class="btn btn-secondary" onclick="showOrderDetail('${order.id}')">
                                    <i class="bi bi-eye"></i> æŸ¥çœ‹è¯¦æƒ…
                                </button>
                            </div>
                        </div>
                    `;
                } else {
                    return `
                        <div class="order-card">
                            <div class="order-header">
                                <div class="order-id">è®¢å•ç¼–å·: ${order.id}</div>
                                <div class="order-status status-completed">âœ… å·²å®Œæˆ</div>
                            </div>
                            <div class="order-body">
                                <img src="${order.preview}" alt="å±•ä½é¢„è§ˆ" class="order-preview">
                                <div class="order-details">
                                    <div class="detail-row">
                                        <div class="detail-label">å‚å±•å•†:</div>
                                        <div class="detail-value">${order.exhibitor}</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">å±•ä½æ–¹æ¡ˆ:</div>
                                        <div class="detail-value">${order.template}</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">å®Œæˆæ—¶é—´:</div>
                                        <div class="detail-value">${order.completedDate}</div>
                                    </div>
                                    <div class="detail-row">
                                        <div class="detail-label">å®¢æˆ·è¯„ä»·:</div>
                                        <div class="detail-value">${'â­'.repeat(order.rating)} (${order.rating}/5)</div>
                                    </div>
                                </div>
                            </div>
                            <div class="order-actions">
                                <button class="btn btn-secondary" onclick="showOrderDetail('${order.id}')">
                                    <i class="bi bi-eye"></i> æŸ¥çœ‹è¯¦æƒ…
                                </button>
                            </div>
                        </div>
                    `;
                }
            }).join('');
        }

        // åˆ‡æ¢Tab
        function switchTab(tabName) {
            // åˆ‡æ¢æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.closest('.tab-btn').classList.add('active');

            // åˆ‡æ¢å†…å®¹
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById(`${tabName}Tab`).classList.add('active');
        }

        // æ¥å—è®¢å•
        function acceptOrder(orderId) {
            if (confirm('ç¡®è®¤æ¥å—æ­¤è®¢å•ï¼Ÿ\n\næ¥å•åè¯·æŒ‰æ—¶å®Œæˆæ–½å·¥ï¼Œå¹¶åŠæ—¶æ›´æ–°è¿›åº¦ã€‚')) {
                alert(`âœ… è®¢å• ${orderId} æ¥å—æˆåŠŸï¼\n\nè®¢å•å·²è¿›å…¥æ–½å·¥é˜¶æ®µï¼Œè¯·æŸ¥çœ‹"è¿›è¡Œä¸­"æ ‡ç­¾é¡µã€‚`);
                // å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šè°ƒç”¨API
                location.reload();
            }
        }

        // æ‹’ç»è®¢å•
        function rejectOrder(orderId) {
            const reason = prompt('è¯·è¾“å…¥æ‹’ç»åŸå› ï¼š');
            if (reason) {
                alert(`è®¢å• ${orderId} å·²æ‹’ç»\næ‹’ç»åŸå› : ${reason}`);
                location.reload();
            }
        }

        // æ˜¾ç¤ºè®¢å•è¯¦æƒ…
        function showOrderDetail(orderId) {
            const order = Object.values(mockOrders).flat().find(o => o.id === orderId);
            if (!order) return;

            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <img src="${order.preview}" style="max-width: 100%; border-radius: 12px;">
                </div>
                <div class="detail-row">
                    <div class="detail-label">è®¢å•ç¼–å·:</div>
                    <div class="detail-value">${order.id}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">å‚å±•å•†:</div>
                    <div class="detail-value">${order.exhibitor}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">å±•ä½æ–¹æ¡ˆ:</div>
                    <div class="detail-value">${order.template}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">å±•ä½é¢ç§¯:</div>
                    <div class="detail-value">${order.size}</div>
                </div>
                ${order.price ? `
                <div class="detail-row">
                    <div class="detail-label">åˆåŒé‡‘é¢:</div>
                    <div class="detail-value" style="color: #e74c3c; font-size: 20px;">${order.price}</div>
                </div>
                ` : ''}
                ${order.location ? `
                <div class="detail-row">
                    <div class="detail-label">å±•ä½ä½ç½®:</div>
                    <div class="detail-value">${order.location}</div>
                </div>
                ` : ''}
                ${order.contact ? `
                <div class="detail-row">
                    <div class="detail-label">è”ç³»æ–¹å¼:</div>
                    <div class="detail-value">${order.contact}</div>
                </div>
                ` : ''}
                ${order.requirements ? `
                <div class="detail-row">
                    <div class="detail-label">ç‰¹æ®Šè¦æ±‚:</div>
                    <div class="detail-value">${order.requirements}</div>
                </div>
                ` : ''}
            `;
            document.getElementById('orderDetailModal').classList.add('show');
        }

        // æ˜¾ç¤ºè¿›åº¦ä¸Šä¼ modal
        function showProgressModal(orderId) {
            document.getElementById('progressModal').classList.add('show');
            window.currentOrderId = orderId;
        }

        // å…³é—­modal
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
            if (modalId === 'progressModal') {
                uploadedPhotos = [];
                document.getElementById('photoPreview').innerHTML = '';
            }
        }

        // å¤„ç†ç…§ç‰‡ä¸Šä¼ 
        function handlePhotoUpload(event) {
            const files = Array.from(event.target.files);
            if (uploadedPhotos.length + files.length > 6) {
                alert('æœ€å¤šåªèƒ½ä¸Šä¼ 6å¼ ç…§ç‰‡');
                return;
            }

            files.forEach(file => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    uploadedPhotos.push(e.target.result);
                    renderPhotoPreview();
                };
                reader.readAsDataURL(file);
            });
        }

        // æ¸²æŸ“ç…§ç‰‡é¢„è§ˆ
        function renderPhotoPreview() {
            const preview = document.getElementById('photoPreview');
            preview.innerHTML = uploadedPhotos.map((photo, index) => `
                <div class="image-preview-item">
                    <img src="${photo}" alt="é¢„è§ˆ">
                    <button class="image-remove-btn" onclick="removePhoto(${index})">
                        <i class="bi bi-x"></i>
                    </button>
                </div>
            `).join('');
        }

        // åˆ é™¤ç…§ç‰‡
        function removePhoto(index) {
            uploadedPhotos.splice(index, 1);
            renderPhotoPreview();
        }

        // æäº¤è¿›åº¦
        function submitProgress() {
            const stage = document.getElementById('progressStage').value;
            const percent = document.getElementById('progressPercent').value;
            const desc = document.getElementById('progressDesc').value;

            if (!desc.trim()) {
                alert('è¯·å¡«å†™è¿›åº¦è¯´æ˜');
                return;
            }

            if (uploadedPhotos.length === 0) {
                alert('è¯·è‡³å°‘ä¸Šä¼ 1å¼ ç°åœºç…§ç‰‡');
                return;
            }

            alert(`âœ… è¿›åº¦ä¸Šä¼ æˆåŠŸï¼\n\næ–½å·¥é˜¶æ®µ: ${stage}\nå®Œæˆè¿›åº¦: ${percent}%\nä¸Šä¼ ç…§ç‰‡: ${uploadedPhotos.length}å¼ \n\nå‚å±•å•†å¯ä»¥å®æ—¶æŸ¥çœ‹æ‚¨çš„æ–½å·¥è¿›åº¦ã€‚`);
            closeModal('progressModal');
            location.reload();
        }

        // å®Œæˆè®¢å•
        function completeOrder(orderId) {
            if (confirm('ç¡®è®¤æäº¤å®Œå·¥ï¼Ÿ\n\næäº¤åå‚å±•å•†å°†è¿›è¡ŒéªŒæ”¶ï¼Œè¯·ç¡®ä¿æ‰€æœ‰å·¥ä½œå·²å®Œæˆã€‚')) {
                alert(`ğŸ‰ è®¢å• ${orderId} å·²æäº¤å®Œå·¥ï¼\n\nç­‰å¾…å‚å±•å•†éªŒæ”¶å’Œè¯„ä»·ã€‚`);
                location.reload();
            }
        }

        // é¡µé¢åŠ è½½
        window.onload = initPage;

        console.log('ğŸ—ï¸ æ­å»ºå•†å·¥ä½œå°åŠ è½½æˆåŠŸ');
        console.log('ğŸ“Š å½“å‰è®¢å•ç»Ÿè®¡: å¾…å¤„ç†3ä¸ª, è¿›è¡Œä¸­5ä¸ª, å·²å®Œæˆ28ä¸ª');
    </script>
</body>
</html>
